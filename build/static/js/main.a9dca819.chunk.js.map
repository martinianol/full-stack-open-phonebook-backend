{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","nameFiltered","handleFiltered","value","onChange","Form","addNumber","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","deletePerson","map","person","name","toLowerCase","includes","number","onClick","id","Notification","message","notificationStyle","color","colorMessage","backgroundColor","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newPerson","post","updatePerson","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNameFiltered","nameMessage","setNameMessage","setMessage","setColorMessage","useEffect","personsService","initialPersons","event","target","preventDefault","alert","personObject","personAlreadyInPhoneBook","find","undefined","window","confirm","updatedPerson","personsTemp","filter","concat","catch","error","console","log","setTimeout","deletedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uLASeA,EAPA,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,eAC9B,OACE,qDACoB,uBAAOC,MAAOF,EAAcG,SAAUF,QCc/CG,EAjBF,SAAC,GAA+E,IAA7EC,EAA4E,EAA5EA,UAAWC,EAAiE,EAAjEA,QAASC,EAAwD,EAAxDA,mBAAoBC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBAEjE,OACE,uBAAMC,SAAUL,EAAhB,UACE,2CACA,yCACQ,uBAAOH,MAAOI,EAASH,SAAUI,OAEzC,2CAAa,uBAAOL,MAAOM,EAAWL,SAAUM,OAEhD,8BACE,wBAAQE,KAAK,SAAb,uBCKOC,EAhBC,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,QAASb,EAAiC,EAAjCA,aAAcc,EAAmB,EAAnBA,aAExC,OACE,6BACGD,EAAQE,KAAI,SAAAC,GACX,OAAIA,EAAOC,KAAKC,cAAcC,SAASnB,EAAakB,eAC3C,+BAAqBF,EAAOC,KAA5B,IAAmCD,EAAOI,OAAO,wBAAQC,QAAS,kBAAMP,EAAaE,IAApC,sBAAxCA,EAAOM,IAEhB,WCgBFC,EA1BM,SAAC,GAAqC,IAAnCN,EAAkC,EAAlCA,KAAMO,EAA4B,EAA5BA,QAEtBC,EAAoB,CACxBC,MAHsD,EAAnBC,aAInCC,gBAAiB,YACjBC,UAAW,OACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGhB,OAAa,OAATjB,EACK,KAKP,sBAAKkB,MAAOV,EAAZ,UACGD,EADH,IACaP,M,gBCnBXmB,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACnB,EAAIsB,GAElB,OADgBP,IAAMQ,IAAN,UAAaT,EAAb,YAAwBd,GAAMsB,GAC/BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALC,SAACnB,GAEf,OADgBe,IAAMS,OAAN,UAAgBV,EAAhB,YAA2Bd,IAC5BiB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCiJ5BM,EA9JH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOnC,EAAP,KAAgBoC,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAO1C,EAAP,KAAgB4C,EAAhB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOxC,EAAP,KAAkB2C,EAAlB,KACA,EAAwCH,mBAAS,IAAjD,mBAAOhD,EAAP,KAAqBoD,EAArB,KACA,EAAsCJ,mBAAS,MAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA8BN,mBAAS,IAAvC,mBAAOxB,EAAP,KAAgB+B,EAAhB,KACA,EAAwCP,mBAAS,SAAjD,mBAAOrB,EAAP,KAAqB6B,EAArB,KAEAC,qBAAU,WACRC,IAEGnB,MAAK,SAAAoB,GACJV,EAAWU,QAEd,IAkHH,OACE,gCACE,2CACA,cAAC,EAAD,CACE1C,KAAMoC,EACN7B,QAASA,EACTG,aAAcA,IAEhB,cAAC,EAAD,CACE3B,aAAcA,EACdC,eAjCiB,SAAC2D,GACtBR,EAAgBQ,EAAMC,OAAO3D,UAkC3B,cAAC,EAAD,CACEG,UA7HY,SAACuD,GAGjB,GAFAA,EAAME,iBAEU,KAAZxD,EACF,OAAOyD,MAAM,6BAEf,GAAkB,KAAdvD,EACF,OAAOuD,MAAM,+BAGf,IAAMC,EAAe,CACnB/C,KAAMX,EACNc,OAAQZ,GAGNyD,EAA2BpD,EAAQqD,MAAK,SAAAlD,GAAM,OAAIA,EAAOC,OAASX,KAEtE,QAAiC6D,IAA7BF,EAEF,OAAIG,OAAOC,QAAP,UAAkB/D,EAAlB,gFAEFoD,EACUO,EAAyB3C,GAAI0C,GACpCzB,MAAK,SAAA+B,GACJhB,EAAehD,GACf,IAAIiE,EAAc1D,EAAQ2D,QAAO,SAAAxD,GAAM,OAAIA,EAAOM,KAAO2C,EAAyB3C,MAClF2B,EAAWsB,EAAYE,OAAOH,IAC9Bf,EAAW,YACXL,EAAW,IACXC,EAAa,OAGduB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMnC,SAASC,MAC3Ba,EAAe,SACfC,EAAWoB,EAAMnC,SAASC,KAAKkC,OAC/BnB,EAAgB,OAChBsB,YAAW,WACTxB,EAAe,MACfC,EAAW,IACXC,EAAgB,WACf,KACHN,EAAW,IACXC,EAAa,QAMjBD,EAAW,SACXC,EAAa,KAKjBO,EACUM,GACPzB,MAAK,SAAAC,GACJS,EAAWpC,EAAQ4D,OAAOjC,IAC1Bc,EAAehD,GACfiD,EAAW,SACXuB,YAAW,WACTxB,EAAe,MACfC,EAAW,MACV,KACHL,EAAW,IACXC,EAAa,OAEduB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMnC,SAASC,MAC3Ba,EAAe,SACfC,EAAWoB,EAAMnC,SAASC,KAAKkC,OAC/BnB,EAAgB,OAChBsB,YAAW,WACTxB,EAAe,MACfC,EAAW,IACXC,EAAgB,WACf,SAiDHlD,QAASA,EACTC,mBA9CqB,SAACqD,GAC1BV,EAAWU,EAAMC,OAAO3D,QA8CpBM,UAAWA,EACXC,mBA5CqB,SAACmD,GAC1BT,EAAaS,EAAMC,OAAO3D,UA6CxB,yCACA,cAAC,EAAD,CACEW,QAASA,EACTb,aAAcA,EACdc,aA1Ce,SAACE,GAEpB,IAAMM,EAAON,EAAPM,GACF8C,OAAOC,QAAP,iBAAyBrD,EAAOC,KAAhC,OACFyC,EACWpC,GACRiB,MAAK,SAAAwC,GACJzB,EAAetC,EAAOC,MACtBsC,EAAW,WACXN,EAAWpC,EAAQ2D,QAAO,SAAAxD,GAAM,OAAIA,EAAOM,KAAOA,MAClDwD,YAAW,WACTxB,EAAe,MACfC,EAAW,MACV,eC5HbyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a9dca819.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ nameFiltered, handleFiltered }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={nameFiltered} onChange={handleFiltered} />\r\n    </div>\r\n  )\r\n}\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Form = ({ addNumber, newName, handlePersonChange, newNumber, handleNumberChange }) => {\r\n\r\n  return (\r\n    <form onSubmit={addNumber}>\r\n      <h2>add a new</h2>\r\n      <div>\r\n        name: <input value={newName} onChange={handlePersonChange} />\r\n      </div>\r\n      <div>number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\n\r\nconst Persons = ({ persons, nameFiltered, deletePerson }) => {\r\n\r\n  return (\r\n    <ul>\r\n      {persons.map(person => {\r\n        if (person.name.toLowerCase().includes(nameFiltered.toLowerCase())) {\r\n          return <li key={person.id}>{person.name} {person.number}<button onClick={() => deletePerson(person)}>Delete</button></li>\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons","const Notification = ({ name, message, colorMessage }) => {\r\n\r\n  const notificationStyle = {\r\n    color: colorMessage,\r\n    backgroundColor: 'lightGrey',\r\n    fontStyle: 'bold',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (name === null) {\r\n    return null\r\n  }\r\n\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message} {name}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, updatePerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, updatePerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst destroy = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, destroy }","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Form from './components/Form'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personsService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [nameFiltered, setNameFiltered] = useState('');\r\n  const [nameMessage, setNameMessage] = useState(null)\r\n  const [message, setMessage] = useState('')\r\n  const [colorMessage, setColorMessage] = useState('green')\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addNumber = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (newName === '') {\r\n      return alert('Please enter a valid name')\r\n    }\r\n    if (newNumber === '') {\r\n      return alert('Please enter a valid number')\r\n    }\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    let personAlreadyInPhoneBook = persons.find(person => person.name === newName)\r\n\r\n    if (personAlreadyInPhoneBook !== undefined) {\r\n\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n\r\n        personsService\r\n          .update(personAlreadyInPhoneBook.id, personObject)\r\n          .then(updatedPerson => {\r\n            setNameMessage(newName)\r\n            let personsTemp = persons.filter(person => person.id !== personAlreadyInPhoneBook.id)\r\n            setPersons(personsTemp.concat(updatedPerson))\r\n            setMessage('Modified')\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n\r\n          .catch(error => {\r\n            console.log(error.response.data)\r\n            setNameMessage('Error')\r\n            setMessage(error.response.data.error)\r\n            setColorMessage('red')\r\n            setTimeout(() => {\r\n              setNameMessage(null)\r\n              setMessage('')\r\n              setColorMessage('green')\r\n            }, 3000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n\r\n        return\r\n\r\n      } else {\r\n        setNewName('')\r\n        setNewNumber('')\r\n        return\r\n      }\r\n    }\r\n\r\n    personsService\r\n      .create(personObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response))\r\n        setNameMessage(newName)\r\n        setMessage('Added')\r\n        setTimeout(() => {\r\n          setNameMessage(null)\r\n          setMessage('')\r\n        }, 3000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data)\r\n        setNameMessage('Error')\r\n        setMessage(error.response.data.error)\r\n        setColorMessage('red')\r\n        setTimeout(() => {\r\n          setNameMessage(null)\r\n          setMessage('')\r\n          setColorMessage('green')\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFiltered = (event) => {\r\n    setNameFiltered(event.target.value)\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n\r\n    let { id } = person\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personsService\r\n        .destroy(id)\r\n        .then(deletedPerson => {\r\n          setNameMessage(person.name)\r\n          setMessage('Deleted')\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setTimeout(() => {\r\n            setNameMessage(null)\r\n            setMessage('')\r\n          }, 3000)\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        name={nameMessage}\r\n        message={message}\r\n        colorMessage={colorMessage}\r\n      />\r\n      <Filter\r\n        nameFiltered={nameFiltered}\r\n        handleFiltered={handleFiltered}\r\n      />\r\n      <Form\r\n        addNumber={addNumber}\r\n        newName={newName}\r\n        handlePersonChange={handlePersonChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons\r\n        persons={persons}\r\n        nameFiltered={nameFiltered}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}